{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingForm=_ref=>{let{office,onClose}=_ref;const[patientName,setPatientName]=useState(\"\");const[patientEmail,setPatientEmail]=useState(\"\");const[patientPhone,setPatientPhone]=useState(\"\");const[selectedTime,setSelectedTime]=useState(\"\");const[reason,setReason]=useState(\"\");const[otherReason,setOtherReason]=useState(\"\");const[paymentMethod,setPaymentMethod]=useState(\"Insurance\");const[message,setMessage]=useState(\"\");const appointmentReasons=[\"New Patient Exam\",\"Emergency\",\"Routine Check-up\",\"Cleaning\",\"Other\"];const handleBooking=async e=>{e.preventDefault();if(!patientName||!patientEmail||!patientPhone||!selectedTime||!reason){setMessage(\"‚ö†Ô∏è Please fill out all fields.\");return;}const finalReason=reason===\"Other\"?otherReason:reason;try{const response=await axios.post(\"http://localhost:5000/book-slot\",{officeId:office.id,timeSlot:selectedTime,patientName,patientEmail,patientPhone,reason:finalReason,paymentMethod});if(response.data.success){setMessage(`‚úÖ Successfully booked ${selectedTime} for ${patientName}!`);setTimeout(()=>{onClose();// Close form after booking\n},2000);}else{setMessage(\"‚ö†Ô∏è Booking failed. Try again.\");}}catch(error){console.error(\"Error booking slot:\",error);setMessage(\"‚ö†Ô∏è Booking failed. Try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{position:\"fixed\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0px 0px 10px rgba(0,0,0,0.1)\",width:\"400px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCC5 Book an Appointment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBooking,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:patientName,onChange:e=>setPatientName(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:patientEmail,onChange:e=>setPatientEmail(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:patientPhone,onChange:e=>setPatientPhone(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Time Slot:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTime,onChange:e=>setSelectedTime(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a time\"}),office.availableSlots.map((slot,index)=>/*#__PURE__*/_jsx(\"option\",{value:slot,children:slot},index))]}),/*#__PURE__*/_jsx(\"label\",{children:\"Reason for Appointment:\"}),/*#__PURE__*/_jsxs(\"select\",{value:reason,onChange:e=>setReason(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a reason\"}),appointmentReasons.map((r,index)=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},index))]}),reason===\"Other\"&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your reason\",value:otherReason,onChange:e=>setOtherReason(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Payment Method:\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Insurance\",children:\"Insurance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cash\",children:\"Cash\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",marginBottom:\"10px\"},children:message}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:\"#28a745\",color:\"white\",padding:\"10px\",width:\"100%\",borderRadius:\"5px\",marginBottom:\"10px\"},children:\"Confirm Booking\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,style:{backgroundColor:\"#dc3545\",color:\"white\",padding:\"10px\",width:\"100%\",borderRadius:\"5px\"},children:\"Cancel\"})]})]});};export default BookingForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","BookingForm","_ref","office","onClose","patientName","setPatientName","patientEmail","setPatientEmail","patientPhone","setPatientPhone","selectedTime","setSelectedTime","reason","setReason","otherReason","setOtherReason","paymentMethod","setPaymentMethod","message","setMessage","appointmentReasons","handleBooking","e","preventDefault","finalReason","response","post","officeId","id","timeSlot","data","success","setTimeout","error","console","style","position","top","left","transform","backgroundColor","padding","borderRadius","boxShadow","width","children","onSubmit","type","value","onChange","target","required","marginBottom","availableSlots","map","slot","index","r","placeholder","color","onClick"],"sources":["/Users/tmoney/Desktop/mvp2/frontend/src/BookingForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst BookingForm = ({ office, onClose }) => {\n  const [patientName, setPatientName] = useState(\"\");\n  const [patientEmail, setPatientEmail] = useState(\"\");\n  const [patientPhone, setPatientPhone] = useState(\"\");\n  const [selectedTime, setSelectedTime] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n  const [otherReason, setOtherReason] = useState(\"\");\n  const [paymentMethod, setPaymentMethod] = useState(\"Insurance\");\n  const [message, setMessage] = useState(\"\");\n\n  const appointmentReasons = [\"New Patient Exam\", \"Emergency\", \"Routine Check-up\", \"Cleaning\", \"Other\"];\n\n  const handleBooking = async (e) => {\n    e.preventDefault();\n\n    if (!patientName || !patientEmail || !patientPhone || !selectedTime || !reason) {\n      setMessage(\"‚ö†Ô∏è Please fill out all fields.\");\n      return;\n    }\n\n    const finalReason = reason === \"Other\" ? otherReason : reason;\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/book-slot\", {\n        officeId: office.id,\n        timeSlot: selectedTime,\n        patientName,\n        patientEmail,\n        patientPhone,\n        reason: finalReason,\n        paymentMethod,\n      });\n\n      if (response.data.success) {\n        setMessage(`‚úÖ Successfully booked ${selectedTime} for ${patientName}!`);\n        setTimeout(() => {\n          onClose(); // Close form after booking\n        }, 2000);\n      } else {\n        setMessage(\"‚ö†Ô∏è Booking failed. Try again.\");\n      }\n    } catch (error) {\n      console.error(\"Error booking slot:\", error);\n      setMessage(\"‚ö†Ô∏è Booking failed. Try again.\");\n    }\n  };\n\n  return (\n    <div style={{ position: \"fixed\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\", backgroundColor: \"white\", padding: \"20px\", borderRadius: \"10px\", boxShadow: \"0px 0px 10px rgba(0,0,0,0.1)\", width: \"400px\" }}>\n      <h2>üìÖ Book an Appointment</h2>\n      <form onSubmit={handleBooking}>\n        <label>Full Name:</label>\n        <input type=\"text\" value={patientName} onChange={(e) => setPatientName(e.target.value)} required style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }} />\n\n        <label>Email:</label>\n        <input type=\"email\" value={patientEmail} onChange={(e) => setPatientEmail(e.target.value)} required style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }} />\n\n        <label>Phone Number:</label>\n        <input type=\"tel\" value={patientPhone} onChange={(e) => setPatientPhone(e.target.value)} required style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }} />\n\n        <label>Time Slot:</label>\n        <select value={selectedTime} onChange={(e) => setSelectedTime(e.target.value)} required style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}>\n          <option value=\"\">Select a time</option>\n          {office.availableSlots.map((slot, index) => (\n            <option key={index} value={slot}>{slot}</option>\n          ))}\n        </select>\n\n        <label>Reason for Appointment:</label>\n        <select value={reason} onChange={(e) => setReason(e.target.value)} required style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}>\n          <option value=\"\">Select a reason</option>\n          {appointmentReasons.map((r, index) => (\n            <option key={index} value={r}>{r}</option>\n          ))}\n        </select>\n\n        {reason === \"Other\" && (\n          <input\n            type=\"text\"\n            placeholder=\"Enter your reason\"\n            value={otherReason}\n            onChange={(e) => setOtherReason(e.target.value)}\n            required\n            style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}\n          />\n        )}\n\n        <label>Payment Method:</label>\n        <select value={paymentMethod} onChange={(e) => setPaymentMethod(e.target.value)} required style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}>\n          <option value=\"Insurance\">Insurance</option>\n          <option value=\"Cash\">Cash</option>\n        </select>\n\n        {message && <p style={{ color: \"red\", marginBottom: \"10px\" }}>{message}</p>}\n\n        <button type=\"submit\" style={{ backgroundColor: \"#28a745\", color: \"white\", padding: \"10px\", width: \"100%\", borderRadius: \"5px\", marginBottom: \"10px\" }}>\n          Confirm Booking\n        </button>\n        <button type=\"button\" onClick={onClose} style={{ backgroundColor: \"#dc3545\", color: \"white\", padding: \"10px\", width: \"100%\", borderRadius: \"5px\" }}>\n          Cancel\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default BookingForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}